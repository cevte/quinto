<!DOCTYPE html>
<html>
<head>
    <title>Capturar firma y guardar imagen</title>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/signature_pad/1.5.3/signature_pad.min.js"></script>
</head>
<body>
    <h1>Capturar firma y guardar imagen</h1>
    <p>Firme a continuaci√≥n:</p>
    <canvas id="signature-pad" width=400 height=200></canvas>
    <br>
    <button id="save-btn">Guardar firma y descargar</button>
    <button id="clear-btn">Limpiar</button>
    <script type="text/javascript">
        var canvas = document.getElementById('signature-pad');
        var signaturePad = new SignaturePad(canvas);

        var saveButton = document.getElementById('save-btn');
        saveButton.addEventListener('click', function(event) {
            if (signaturePad.isEmpty()) {
                alert("Por favor firme primero");
            } else {
                var dataURL = signaturePad.toDataURL();
                downloadImage(dataURL, 'firma.png');
            }
        });

        var clearButton = document.getElementById('clear-btn');
        clearButton.addEventListener('click', function(event) {
            signaturePad.clear();
        });

        function downloadImage(data, filename) {
            var a = document.createElement('a');
            a.href = data;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }
    </script>
</body>
</html>

